<?xml version="1.0"?>
<config version="9.1.0" urldb="paloaltonetworks">
  <devices>
    <entry name="localhost.localdomain">
      <device-group>
        <entry name="SVPC_AWS">
          <devices/>
          <log-settings>
            <profiles>
              <entry name="Forward-to-Cortex-Data-Lake">
                <match-list>
                  <entry name="traffic-enhanced-app-logging">
                    <log-type>traffic</log-type>
                    <filter>All Logs</filter>
                    <send-to-panorama>yes</send-to-panorama>
                  </entry>
                  <entry name="threat-enhanced-app-logging">
                    <log-type>threat</log-type>
                    <filter>All Logs</filter>
                    <send-to-panorama>yes</send-to-panorama>
                  </entry>
                  <entry name="wildfire-enhanced-app-logging">
                    <log-type>wildfire</log-type>
                    <filter>All Logs</filter>
                    <send-to-panorama>yes</send-to-panorama>
                  </entry>
                  <entry name="url-enhanced-app-logging">
                    <log-type>url</log-type>
                    <filter>All Logs</filter>
                    <send-to-panorama>yes</send-to-panorama>
                  </entry>
                  <entry name="data-enhanced-app-logging">
                    <log-type>data</log-type>
                    <filter>All Logs</filter>
                    <send-to-panorama>yes</send-to-panorama>
                  </entry>
                  <entry name="tunnel-enhanced-app-logging">
                    <log-type>tunnel</log-type>
                    <filter>All Logs</filter>
                    <send-to-panorama>yes</send-to-panorama>
                  </entry>
                  <entry name="auth-enhanced-app-logging">
                    <log-type>auth</log-type>
                    <filter>All Logs</filter>
                    <send-to-panorama>yes</send-to-panorama>
                  </entry>
                </match-list>
                <enhanced-application-logging>yes</enhanced-application-logging>
              </entry>
            </profiles>
          </log-settings>
          <address>
            <entry name="internal-ALB">
              <fqdn>replace.with.internal.ALB.from.terraform.output</fqdn>
            </entry>
            <entry name="Debug_SSH_Web_Server">
              <fqdn>replace.with.FQDN.of.a.web.server</fqdn>
            </entry>
          </address>
          <pre-rulebase>
            <nat>
              <rules>
                <entry name="inbound-example-application" uuid="cab66e6e-0870-405a-81e4-a21b49e7d917">
                  <source-translation>
                    <dynamic-ip-and-port>
                      <interface-address>
                        <interface>ethernet1/2</interface>
                      </interface-address>
                    </dynamic-ip-and-port>
                  </source-translation>
                  <dynamic-destination-translation>
                    <translated-address>internal-ALB</translated-address>
                  </dynamic-destination-translation>
                  <target>
                    <negate>no</negate>
                  </target>
                  <to>
                    <member>public</member>
                  </to>
                  <from>
                    <member>public</member>
                  </from>
                  <source>
                    <member>any</member>
                  </source>
                  <destination>
                    <member>any</member>
                  </destination>
                  <service>service-http</service>
                  <to-interface>ethernet1/1</to-interface>
                </entry>
                <entry name="inbound-debug-SSH to webserver" uuid="d328d8b6-59b9-489b-b731-32de514b61da">
                  <source-translation>
                    <dynamic-ip-and-port>
                      <interface-address>
                        <interface>ethernet1/2</interface>
                      </interface-address>
                    </dynamic-ip-and-port>
                  </source-translation>
                  <dynamic-destination-translation>
                    <translated-address>Debug_SSH_Web_Server</translated-address>
                  </dynamic-destination-translation>
                  <target>
                    <negate>no</negate>
                  </target>
                  <to>
                    <member>public</member>
                  </to>
                  <from>
                    <member>public</member>
                  </from>
                  <source>
                    <member>any</member>
                  </source>
                  <destination>
                    <member>any</member>
                  </destination>
                  <service>any</service>
                  <to-interface>ethernet1/1</to-interface>
                  <disabled>yes</disabled>
                </entry>
                <entry name="outbound-internet" uuid="7952d306-b515-4fbe-9ee6-f98c2e129399">
                  <source-translation>
                    <dynamic-ip-and-port>
                      <interface-address>
                        <interface>ethernet1/1</interface>
                      </interface-address>
                    </dynamic-ip-and-port>
                  </source-translation>
                  <target>
                    <negate>no</negate>
                  </target>
                  <to>
                    <member>public</member>
                  </to>
                  <from>
                    <member>private</member>
                  </from>
                  <source>
                    <member>any</member>
                  </source>
                  <destination>
                    <member>any</member>
                  </destination>
                  <service>any</service>
                  <to-interface>any</to-interface>
                </entry>
              </rules>
            </nat>
            <security>
              <rules>
                <entry name="inbound-example-application" uuid="25ba5dde-a45b-42a2-9c1b-7e6e890782cf">
                  <profile-setting>
                    <profiles>
                      <url-filtering>
                        <member>Enable-XFF-Logging</member>
                      </url-filtering>
                    </profiles>
                  </profile-setting>
                  <target>
                    <negate>no</negate>
                  </target>
                  <to>
                    <member>private</member>
                  </to>
                  <from>
                    <member>public</member>
                  </from>
                  <source>
                    <member>any</member>
                  </source>
                  <destination>
                    <member>10.200.0.10/32</member>
                    <member>10.200.128.10/32</member>
                  </destination>
                  <source-user>
                    <member>any</member>
                  </source-user>
                  <category>
                    <member>any</member>
                  </category>
                  <application>
                    <member>web-browsing</member>
                  </application>
                  <service>
                    <member>application-default</member>
                  </service>
                  <hip-profiles>
                    <member>any</member>
                  </hip-profiles>
                  <action>allow</action>
                  <log-setting>Forward-to-Cortex-Data-Lake</log-setting>
                </entry>
                <entry name="inbound-debug-SSH to webserver" uuid="e2dc3879-4f30-435b-b545-05a54f5bf3d7">
                  <target>
                    <negate>no</negate>
                  </target>
                  <to>
                    <member>private</member>
                  </to>
                  <from>
                    <member>public</member>
                  </from>
                  <source>
                    <member>any</member>
                  </source>
                  <destination>
                    <member>Debug_SSH_Web_Server</member>
                  </destination>
                  <source-user>
                    <member>any</member>
                  </source-user>
                  <category>
                    <member>any</member>
                  </category>
                  <application>
                    <member>ssh</member>
                  </application>
                  <service>
                    <member>application-default</member>
                  </service>
                  <hip-profiles>
                    <member>any</member>
                  </hip-profiles>
                  <action>allow</action>
                  <log-setting>Forward-to-Cortex-Data-Lake</log-setting>
                  <disabled>yes</disabled>
                </entry>
                <entry name="outbound-internet" uuid="97c73304-0d8e-4fc2-a24f-640c2e16d842">
                  <target>
                    <negate>no</negate>
                  </target>
                  <to>
                    <member>public</member>
                  </to>
                  <from>
                    <member>private</member>
                  </from>
                  <source>
                    <member>any</member>
                  </source>
                  <destination>
                    <member>any</member>
                  </destination>
                  <source-user>
                    <member>any</member>
                  </source-user>
                  <category>
                    <member>any</member>
                  </category>
                  <application>
                    <member>apt-get</member>
                    <member>dns</member>
                    <member>icmp</member>
                    <member>ntp</member>
                    <member>ping</member>
                    <member>traceroute</member>
                    <member>yum</member>
                  </application>
                  <service>
                    <member>application-default</member>
                  </service>
                  <hip-profiles>
                    <member>any</member>
                  </hip-profiles>
                  <action>allow</action>
                  <log-setting>Forward-to-Cortex-Data-Lake</log-setting>
                </entry>
              </rules>
            </security>
          </pre-rulebase>
          <profiles>
            <url-filtering>
              <entry name="Enable-XFF-Logging">
                <credential-enforcement>
                  <mode>
                    <disabled/>
                  </mode>
                  <log-severity>medium</log-severity>
                  <block>
                    <member>abused-drugs</member>
                    <member>adult</member>
                    <member>command-and-control</member>
                    <member>gambling</member>
                    <member>grayware</member>
                    <member>hacking</member>
                    <member>malware</member>
                    <member>phishing</member>
                    <member>questionable</member>
                    <member>weapons</member>
                  </block>
                </credential-enforcement>
                <log-http-hdr-xff>yes</log-http-hdr-xff>
                <alert>
                  <member>abortion</member>
                  <member>abused-drugs</member>
                  <member>adult</member>
                  <member>alcohol-and-tobacco</member>
                  <member>auctions</member>
                  <member>business-and-economy</member>
                  <member>command-and-control</member>
                  <member>computer-and-internet-info</member>
                  <member>content-delivery-networks</member>
                  <member>copyright-infringement</member>
                  <member>cryptocurrency</member>
                  <member>dating</member>
                  <member>dynamic-dns</member>
                  <member>educational-institutions</member>
                  <member>entertainment-and-arts</member>
                  <member>extremism</member>
                  <member>financial-services</member>
                  <member>gambling</member>
                  <member>games</member>
                  <member>government</member>
                  <member>grayware</member>
                  <member>hacking</member>
                  <member>health-and-medicine</member>
                  <member>high-risk</member>
                  <member>home-and-garden</member>
                  <member>hunting-and-fishing</member>
                  <member>insufficient-content</member>
                  <member>internet-communications-and-telephony</member>
                  <member>internet-portals</member>
                  <member>job-search</member>
                  <member>legal</member>
                  <member>low-risk</member>
                  <member>malware</member>
                  <member>medium-risk</member>
                  <member>military</member>
                  <member>motor-vehicles</member>
                  <member>music</member>
                  <member>newly-registered-domain</member>
                  <member>news</member>
                  <member>not-resolved</member>
                  <member>nudity</member>
                  <member>online-storage-and-backup</member>
                  <member>parked</member>
                  <member>peer-to-peer</member>
                  <member>personal-sites-and-blogs</member>
                  <member>philosophy-and-political-advocacy</member>
                  <member>phishing</member>
                  <member>private-ip-addresses</member>
                  <member>proxy-avoidance-and-anonymizers</member>
                  <member>questionable</member>
                  <member>real-estate</member>
                  <member>recreation-and-hobbies</member>
                  <member>reference-and-research</member>
                  <member>religion</member>
                  <member>search-engines</member>
                  <member>sex-education</member>
                  <member>shareware-and-freeware</member>
                  <member>shopping</member>
                  <member>social-networking</member>
                  <member>society</member>
                  <member>sports</member>
                  <member>stock-advice-and-tools</member>
                  <member>streaming-media</member>
                  <member>swimsuits-and-intimate-apparel</member>
                  <member>training-and-tools</member>
                  <member>translation</member>
                  <member>travel</member>
                  <member>unknown</member>
                  <member>weapons</member>
                  <member>web-advertisements</member>
                  <member>web-based-email</member>
                  <member>web-hosting</member>
                </alert>
              </entry>
            </url-filtering>
          </profiles>
        </entry>
      </device-group>
      <template>
        <entry name="SVPC_Baseline-VMSeries-Setting">
          <settings>
            <default-vsys>vsys1</default-vsys>
          </settings>
          <config>
            <devices>
              <entry name="localhost.localdomain">
                <vsys>
                  <entry name="vsys1"/>
                </vsys>
                <deviceconfig>
                  <system>
                    <timezone>US/Pacific</timezone>
                    <fqdn-refresh-time>60</fqdn-refresh-time>
                    <fqdn-stale-entry-timeout>1440</fqdn-stale-entry-timeout>
                    <dns-setting>
                      <servers>
                        <primary>169.254.169.253</primary>
                      </servers>
                    </dns-setting>
                    <ntp-servers>
                      <primary-ntp-server>
                        <ntp-server-address>0.pool.ntp.org</ntp-server-address>
                      </primary-ntp-server>
                      <secondary-ntp-server>
                        <ntp-server-address>1.pool.ntp.org</ntp-server-address>
                      </secondary-ntp-server>
                    </ntp-servers>
                    <type>
                      <dhcp-client>
                        <send-client-id>no</send-client-id>
                        <send-hostname>yes</send-hostname>
                        <accept-dhcp-hostname>no</accept-dhcp-hostname>
                        <accept-dhcp-domain>no</accept-dhcp-domain>
                      </dhcp-client>
                    </type>
                  </system>
                  <setting>
                    <ctd>
                      <x-forwarded-for>yes</x-forwarded-for>
                    </ctd>
                    <logging>
                      <logging-service-forwarding>
                        <enable>yes</enable>
                        <logging-service-regions>americas</logging-service-regions>
                      </logging-service-forwarding>
                      <enhanced-application-logging>
                        <enable>yes</enable>
                      </enhanced-application-logging>
                    </logging>
                  </setting>
                </deviceconfig>
              </entry>
            </devices>
            <shared>
              <log-settings>
                <system>
                  <match-list>
                    <entry name="System Logs">
                      <filter>All Logs</filter>
                      <send-to-panorama>yes</send-to-panorama>
                    </entry>
                  </match-list>
                </system>
                <config>
                  <match-list>
                    <entry name="Configuration Logs">
                      <filter>All Logs</filter>
                      <send-to-panorama>yes</send-to-panorama>
                    </entry>
                  </match-list>
                </config>
              </log-settings>
            </shared>
            <mgt-config>
              <users>
                <entry name="admin">
                  <permissions>
                    <role-based>
                      <superuser>yes</superuser>
                    </role-based>
                  </permissions>
                  <phash>$1$pxtsvjrj$v5TSCHDJ5QDUeqzwJ8y63.</phash>
                </entry>
                <entry name="svpc_admin">
                  <permissions>
                    <role-based>
                      <superuser>yes</superuser>
                    </role-based>
                  </permissions>
                  <phash>$1$cnwmwlki$Na6LqZVJJOzIQ58wd9O.m0</phash>
                </entry>
              </users>
            </mgt-config>
          </config>
        </entry>
        <entry name="SVPC_Single-VPC-Network-Setting">
          <settings>
            <default-vsys>vsys1</default-vsys>
          </settings>
          <config>
            <devices>
              <entry name="localhost.localdomain">
                <vsys>
                  <entry name="vsys1">
                    <zone>
                      <entry name="public">
                        <network>
                          <layer3>
                            <member>ethernet1/1</member>
                          </layer3>
                        </network>
                      </entry>
                      <entry name="private">
                        <network>
                          <layer3>
                            <member>ethernet1/2</member>
                          </layer3>
                        </network>
                      </entry>
                    </zone>
                    <import>
                      <network>
                        <interface>
                          <member>ethernet1/1</member>
                          <member>ethernet1/2</member>
                        </interface>
                      </network>
                    </import>
                  </entry>
                </vsys>
                <network>
                  <virtual-router>
                    <entry name="vr-default">
                      <ecmp>
                        <algorithm>
                          <ip-modulo/>
                        </algorithm>
                      </ecmp>
                      <protocol>
                        <bgp>
                          <routing-options>
                            <graceful-restart>
                              <enable>yes</enable>
                            </graceful-restart>
                          </routing-options>
                          <enable>no</enable>
                        </bgp>
                        <rip>
                          <enable>no</enable>
                        </rip>
                        <ospf>
                          <enable>no</enable>
                        </ospf>
                        <ospfv3>
                          <enable>no</enable>
                        </ospfv3>
                      </protocol>
                      <interface>
                        <member>ethernet1/1</member>
                        <member>ethernet1/2</member>
                      </interface>
                    </entry>
                  </virtual-router>
                  <interface>
                    <ethernet>
                      <entry name="ethernet1/1">
                        <layer3>
                          <ndp-proxy>
                            <enabled>no</enabled>
                          </ndp-proxy>
                          <lldp>
                            <enable>no</enable>
                          </lldp>
                          <dhcp-client/>
                        </layer3>
                      </entry>
                      <entry name="ethernet1/2">
                        <layer3>
                          <ndp-proxy>
                            <enabled>no</enabled>
                          </ndp-proxy>
                          <dhcp-client>
                            <create-default-route>no</create-default-route>
                          </dhcp-client>
                          <lldp>
                            <enable>no</enable>
                          </lldp>
                        </layer3>
                      </entry>
                    </ethernet>
                  </interface>
                </network>
              </entry>
            </devices>
          </config>
        </entry>
      </template>
      <template-stack>
        <entry name="SVPC_AZ-a-Stack">
          <templates>
            <member>SVPC_Baseline-VMSeries-Setting</member>
            <member>SVPC_Single-VPC-Network-Setting</member>
          </templates>
          <config>
            <devices>
              <entry name="localhost.localdomain">
                <network>
                  <virtual-router>
                    <entry name="vr-default">
                      <routing-table>
                        <ip>
                          <static-route>
                            <entry name="Web Subnet - a">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.1.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.2.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                            <entry name="Business Subnet -a">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.1.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.3.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                            <entry name="DB Subnet - a">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.1.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.4.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                            <entry name="Web Subnet - b">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.1.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.130.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                            <entry name="Business Subnet - b">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.1.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.131.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                            <entry name="DB Subnet - b">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.1.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.132.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                          </static-route>
                        </ip>
                      </routing-table>
                    </entry>
                  </virtual-router>
                </network>
              </entry>
            </devices>
          </config>
        </entry>
        <entry name="SVPC_AZ-b-Stack">
          <templates>
            <member>SVPC_Baseline-VMSeries-Setting</member>
            <member>SVPC_Single-VPC-Network-Setting</member>
          </templates>
          <config>
            <devices>
              <entry name="localhost.localdomain">
                <network>
                  <virtual-router>
                    <entry name="vr-default">
                      <routing-table>
                        <ip>
                          <static-route>
                            <entry name="Web Subnet - a">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.129.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.2.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                            <entry name="Business Subnet - a">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.129.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.3.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                            <entry name="DB Subnet - a">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.129.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.4.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                            <entry name="Web Subnet - b">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.129.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.130.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                            <entry name="Business Subnet - b">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.129.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.131.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                            <entry name="DB Subnet - b">
                              <path-monitor>
                                <enable>no</enable>
                                <failure-condition>any</failure-condition>
                                <hold-time>2</hold-time>
                              </path-monitor>
                              <nexthop>
                                <ip-address>10.200.129.1</ip-address>
                              </nexthop>
                              <bfd>
                                <profile>None</profile>
                              </bfd>
                              <interface>ethernet1/2</interface>
                              <metric>10</metric>
                              <destination>10.200.132.0/24</destination>
                              <route-table>
                                <unicast/>
                              </route-table>
                            </entry>
                          </static-route>
                        </ip>
                      </routing-table>
                    </entry>
                  </virtual-router>
                </network>
              </entry>
            </devices>
          </config>
        </entry>
      </template-stack>
    </entry>
  </devices>
</config>
